

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Server Manual &mdash; nanos.world Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_tabs/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css?v2" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css?v1" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.js"></script>
        <script type="text/javascript" src="../_static/sphinx_tabs/tabs.js"></script>
        <script type="text/javascript" src="../_static/js/script.js?v1"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WebUI Quick Start" href="WebUIQuickStart.html" />
    <link rel="prev" title="Scripting Quick Start" href="ScriptingQuickStart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../About.html">About us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ContributingToDocs.html">Contributing to the Docs</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AssetsQuickStart.html">Assets Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="ScriptingQuickStart.html">Scripting Quick Start</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Server Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="WebUIQuickStart.html">WebUI Quick Start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials &amp; Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/BasicHUDCanvas.html">Basic HUD (Canvas)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/BasicHUDHTML.html">Basic HUD (HTML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/ChatColors.html">Chat Colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/MonsterTruck.html">Monster Truck</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/NameTags.html">Name Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/PaintingMeshes.html">Painting Meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/PlayAsProp.html">Play as Prop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/PropShooter.html">Prop Shooter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/PropRain.html">Prop Rain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/ScoreHitLog.html">Score, Kill &amp; Hit Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/Trace.html">Traces / Raycasting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/WeaponFlashlight.html">Weapon Flashlight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/WeaponScope.html">Weapon Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/XRay.html">X-Ray / Highlight</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Scripting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting/classes/index.html">Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Character.html">Character</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/File.html">File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Grenade.html">Grenade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Item.html">Item</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Light.html">Light</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Particle.html">Particle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Player.html">Player</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Prop.html">Prop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Sound.html">Sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/StaticMesh.html">Static Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/TextRender.html">Text Render</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Trigger.html">Trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Vehicle.html">Vehicle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/Weapon.html">Weapon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/classes/WebUI.html">WebUI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/static_classes/index.html">Static Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Assets.html">Assets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Client.html">Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/NanosWorld.html">NanosWorld</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Package.html">Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Render.html">Render</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Server.html">Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/Timer.html">Timer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/static_classes/World.html">World</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/utility/index.html">Utility</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/Color.html">Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/JSON.html">JSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/Rotator.html">Rotator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/Vector.html">Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/Vector2D.html">Vector2D</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripting/utility/NanosMathLibrary.html">NanosMathLibrary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/Modules.html">Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Assets &amp; Modding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modding/index.html">Modding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modding/AssetsDevelopmentKit.html">Assets Development Kit - ADK</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modding/Characters.html">Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modding/MapsAndLevels.html">Maps &amp; Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modding/StaticMeshes.html">Static Meshes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modding/NanosWorldDefaultPack.html">Nanos World Default Assets Pack</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nanos.world Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Getting Started</a> &raquo;</li>
        
      <li>Server Manual</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/nanos-world/docs/blob/master/getting_started/ServerManual.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="server-manual">
<span id="servermanual"></span><h1>Server Manual<a class="headerlink" href="#server-manual" title="Permalink to this headline">¶</a></h1>
<p>Creating servers in nanos world is very simple and straightforward, just a few steps and you have your server up and ready!</p>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>OS: Windows or Linux</p></li>
<li><p>Processor: 1.0 GHz</p></li>
<li><p>Memory: 50 MB (grows if having too many Players or spawned Entities)</p></li>
<li><p>Storage: 10 MB (+ Assets size)</p></li>
<li><p>Network: Recommended at least 1 MB/s (grows if having too many Players or spawned Entities)</p></li>
<li><p>Network Forwarded Ports: 7777 TCP and UDP (you can change that on the config)</p></li>
</ul>
</div>
<div class="section" id="starting-out">
<h2>Starting Out<a class="headerlink" href="#starting-out" title="Permalink to this headline">¶</a></h2>
<p>The server is as simple as one executable file <code class="docutils literal notranslate"><span class="pre">NanosWorldServer.exe</span></code>. After downloaded it, run it once to create the proper and initial folders <code class="docutils literal notranslate"><span class="pre">Assets</span></code>, <code class="docutils literal notranslate"><span class="pre">Packages</span></code> and <code class="docutils literal notranslate"><span class="pre">Config.toml</span></code> file, you can close the server after that.</p>
<img alt="https://i.imgur.com/qFjyYlf.png" src="https://i.imgur.com/qFjyYlf.png" />
</div>
<div class="section" id="server-configuration-file">
<h2>Server Configuration File<a class="headerlink" href="#server-configuration-file" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>nanos world Config files use <strong>TOML</strong> (Tom’s Obvious, Minimal Language), please refer to <a class="reference external" href="https://github.com/toml-lang/toml">https://github.com/toml-lang/toml</a> for more information and syntax.</p>
</div>
<p>The server Configuration file <code class="docutils literal notranslate"><span class="pre">Config.toml</span></code> is generated automatically when the server is launched for the first time. This file will always be overriden with the proper pattern after the server is loaded.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Server Configurations</span>
<span class="k">[server]</span>
    <span class="c1"># Server Name</span>
    <span class="n">name</span> <span class="o">=</span>                <span class="s">&quot;nanos world Server&quot;</span>
    <span class="c1"># Server Description</span>
    <span class="n">description</span> <span class="o">=</span>         <span class="s">&quot;&quot;</span>
    <span class="c1"># Server Logo URL (Recommended Size: 150x75)</span>
    <span class="n">logo</span> <span class="o">=</span>
    <span class="c1"># Max Players</span>
    <span class="n">max_players</span> <span class="o">=</span>         <span class="mi">64</span>
    <span class="c1"># Leave it blank for no password</span>
    <span class="n">password</span> <span class="o">=</span>            <span class="s">&quot;&quot;</span>
    <span class="c1"># Server IP. Leave it 0.0.0.0 for default</span>
    <span class="n">ip</span> <span class="o">=</span>                  <span class="s">&quot;0.0.0.0&quot;</span>
    <span class="c1"># Server Port (UDP forwarding needed)</span>
    <span class="n">port</span> <span class="o">=</span>                <span class="mi">7777</span>
    <span class="c1"># HTTP Port (TCP forwarding needed)</span>
    <span class="n">http_port</span> <span class="o">=</span>           <span class="mi">7777</span>
    <span class="c1"># Announce Server in the Server List</span>
    <span class="n">announce</span> <span class="o">=</span>            <span class="kc">true</span>
    <span class="c1"># Server Tick Rate in milliseconds (Dangerous! Server will tick at each [tick_rate] ms,</span>
    <span class="c1"># affecting both Server and Client performance. 33 ms means 30 ticks per Second and is</span>
    <span class="c1"># the default and recommended value)</span>
    <span class="n">tick_rate</span> <span class="o">=</span>           <span class="mi">33</span>
    <span class="c1"># Log Level. (1) Normal - (2) Debug - (3) Verbose</span>
    <span class="n">log_level</span> <span class="o">=</span>           <span class="mi">1</span>

<span class="c1"># nanos world Configurations</span>
<span class="k">[world]</span>
    <span class="c1"># Package List (leave it blank to load all packages, this is usually useful when you have</span>
    <span class="c1"># tons of packages downloaded and only want to load one or some)</span>
    <span class="n">packages</span> <span class="o">=</span> <span class="p">[</span>

    <span class="p">]</span>
    <span class="c1"># Default startup map</span>
    <span class="n">map</span> <span class="o">=</span>                 <span class="s">&quot;NanosWorld::BlankMap&quot;</span>
    <span class="c1"># VOIP Setting (&#39;Local&#39;, &#39;Global&#39; or &#39;Disabled&#39;)</span>
    <span class="n">voip_setting</span> <span class="o">=</span>        <span class="s">&quot;Local&quot;</span>
    <span class="c1"># Banned IPs</span>
    <span class="n">banned_ips</span> <span class="o">=</span> <span class="p">[</span>

    <span class="p">]</span>
</pre></div>
</div>
<div class="section" id="command-line-parameters">
<h3>Command Line Parameters<a class="headerlink" href="#command-line-parameters" title="Permalink to this headline">¶</a></h3>
<p>It is possible to override the Server Configuration with Command Line Parameters. Note: this will not write to the Config file.</p>
<p>Available parameters: <code class="docutils literal notranslate"><span class="pre">--name</span></code>, <code class="docutils literal notranslate"><span class="pre">--description</span></code>, <code class="docutils literal notranslate"><span class="pre">--password</span></code>, <code class="docutils literal notranslate"><span class="pre">--ip</span></code>, <code class="docutils literal notranslate"><span class="pre">--map</span></code>, <code class="docutils literal notranslate"><span class="pre">--port</span></code>, <code class="docutils literal notranslate"><span class="pre">--http_port</span></code>, <code class="docutils literal notranslate"><span class="pre">--announce</span></code> , <code class="docutils literal notranslate"><span class="pre">--packages</span></code> and <code class="docutils literal notranslate"><span class="pre">--max_players</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">NanosWorldServer</span> <span class="o">--</span><span class="n">port</span> <span class="mi">6666</span> <span class="o">--</span><span class="nb">map</span> <span class="s2">&quot;NanosWorld::BlankMap&quot;</span> <span class="o">--</span><span class="n">announce</span> <span class="mi">0</span> <span class="o">--</span><span class="n">max_players</span> <span class="mi">1024</span> <span class="o">--</span><span class="n">packages</span> <span class="s2">&quot;MyAwesomePackage, AnotherGoodPackage&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="map-and-level">
<h2>Map and Level<a class="headerlink" href="#map-and-level" title="Permalink to this headline">¶</a></h2>
<p>The Map (or Level) is defined in the Server’s config file, this level will be loaded when the player joins the server and the Path is supposed for be or a built-in asset or an asset which is located at <code class="docutils literal notranslate"><span class="pre">Assets/</span></code> folder.</p>
<p>NanosWorld counts on (for now) 2 built-in maps: <code class="docutils literal notranslate"><span class="pre">NanosWorld::BlankMap</span></code> and <code class="docutils literal notranslate"><span class="pre">NanosWorld::TestingMap</span></code> which can be used in your server without needing to download any Asset Pack.</p>
<img alt="https://i.imgur.com/T1RERRa.jpg" src="https://i.imgur.com/T1RERRa.jpg" />
</div>
<div class="section" id="server-console">
<h2>Server Console<a class="headerlink" href="#server-console" title="Permalink to this headline">¶</a></h2>
<p>It is possible to input commands to the Server Console.</p>
<img alt="https://i.imgur.com/dvv6W62.png" src="https://i.imgur.com/dvv6W62.png" />
<div class="section" id="built-in-commands">
<h3>Built-in Commands<a class="headerlink" href="#built-in-commands" title="Permalink to this headline">¶</a></h3>
<p>To stop the server</p>
<p><code class="docutils literal notranslate"><span class="pre">stop</span></code></p>
<p>To run a code in a package:</p>
<p><code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">run</span> <span class="pre">[package_name]</span> <span class="pre">[lua_code]</span></code></p>
<p>To reload a package:</p>
<p><code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">reload</span> <span class="pre">[package_name]</span></code></p>
<p>To reload all packages:</p>
<p><code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">reload</span> <span class="pre">all</span></code></p>
<p>To unload a package:</p>
<p><code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">unload</span> <span class="pre">[package_name]</span></code></p>
<p>To load a package:</p>
<p><code class="docutils literal notranslate"><span class="pre">package</span> <span class="pre">load</span> <span class="pre">[package_name]</span></code></p>
<p>All (not pre-defined) commands will be sent into an event to the scripting/server-side:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-THVh docutils container">
<div class="docutils container">
<p>Lua</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-THVh active docutils container">
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="n">Server</span><span class="p">:</span><span class="n">Subscribe</span><span class="p">(</span><span class="s2">&quot;Console&quot;</span><span class="p">,</span> <span class="kr">function</span><span class="p">(</span><span class="n">my_input</span><span class="p">)</span>
    <span class="n">Package</span><span class="p">:</span><span class="n">Log</span><span class="p">(</span><span class="s2">&quot;Console command received: &quot;</span> <span class="o">..</span> <span class="n">my_input</span><span class="p">)</span>
<span class="kr">end</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="loading-screen">
<h2>Loading Screen<a class="headerlink" href="#loading-screen" title="Permalink to this headline">¶</a></h2>
<p>In nanos world it is possible to add a customized and dynamic Loading Screen to your Server using WebUI. For that, just add your HTML/CSS/JS files into <code class="docutils literal notranslate"><span class="pre">./LoadingScreen</span></code> folder. Your primary HTML file should be called <code class="docutils literal notranslate"><span class="pre">index.html</span></code>.</p>
<p>To be able to display dynamic information in the screen, you can listen to the Event <code class="docutils literal notranslate"><span class="pre">UpdateScreen</span></code> (which will trigger every few ms):</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="docutils container">
<p>JavaScript</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YVNjcmlwdA== active docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">During downloading phase: &#39;progress&#39; and &#39;progress_total&#39; will represent the amount of files being</span>
<span class="cm">  downloaded and &#39;progress_secondary&#39; will represent the % of the current file being downloaded</span>

<span class="cm">During loading phase: &#39;progress&#39; and &#39;progress_total&#39; will represent the total loading progress (%)</span>
<span class="cm">  and &#39;progress_secondary&#39; will represent the progress of the current stuff being loaded</span>

<span class="cm">TIP: You can use &#39;progress&#39; and &#39;progress_total&#39; for filling up the main loading bar, and</span>
<span class="cm">  &#39;progress_secondary&#39; for a small / sub loading bar.  Also &#39;message&#39; will display the current state</span>
<span class="cm">  (Loading, Validating, Downloading) while &#39;message_secondary&#39; will display the current asset / stuff</span>
<span class="cm">  being loaded or downloaded.</span>
<span class="cm">*/</span>

<span class="kd">function</span> <span class="nx">UpdateScreen</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">message_secondary</span><span class="p">,</span> <span class="nx">progress</span><span class="p">,</span> <span class="nx">progress_total</span><span class="p">,</span> <span class="nx">progress_secondary</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Update your HTML here</span>
<span class="p">}</span>

<span class="nx">Events</span><span class="p">.</span><span class="nx">Subscribe</span><span class="p">(</span><span class="s2">&quot;UpdateScreen&quot;</span><span class="p">,</span> <span class="nx">UpdateScreen</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>Also, it is possible to fetch Player’s information by accessing a global variable called <cite>LoadingScreen</cite>:</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-SmF2YVNjcmlwdA== docutils container">
<div class="docutils container">
<p>JavaScript</p>
</div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment code-tab sphinx-data-tab-SmF2YVNjcmlwdA== active docutils container">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">LoadingScreen</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">server_ip</span><span class="p">,</span>
  <span class="nx">server_port</span><span class="p">,</span>
  <span class="nx">server_http_port</span><span class="p">,</span>
  <span class="nx">player_nanos_id</span><span class="p">,</span>
  <span class="nx">player_nanos_username</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="packages-scripting">
<h2>Packages &amp; Scripting<a class="headerlink" href="#packages-scripting" title="Permalink to this headline">¶</a></h2>
<p>nanos world provides a way of customizating and creating custom gamemodes for your server with scripting language (Lua). You can create and add several Lua scripts files and run them on the server and/or on the client side. You can also separate your gamemodes and functionalities in different Packages (or you can call it Modules or GameModes).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each Package will have its own memory space and are not interconnected with other Packages.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Under linux the CamelCase is necessary for folder and <code class="docutils literal notranslate"><span class="pre">Index.lua</span></code> names.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Refer to <a class="reference internal" href="ScriptingQuickStart.html#scriptingquickstart"><span class="std std-ref">Scripting Quick Start</span></a> for more information.</p>
</div>
<div class="section" id="packages-structure">
<h3>Packages Structure<a class="headerlink" href="#packages-structure" title="Permalink to this headline">¶</a></h3>
<p>All Packages must go under <code class="docutils literal notranslate"><span class="pre">Packages</span></code> folder, each Package is a folder under that. Each Package must contain the following folder: <code class="docutils literal notranslate"><span class="pre">Server</span></code>, <code class="docutils literal notranslate"><span class="pre">Client</span></code> and <code class="docutils literal notranslate"><span class="pre">Shared</span></code>. Client and Shared will be sent to the Clients when they connect. Server and Shared will run only on Server and won’t be sent to Clients.</p>
<p>Each Package must have an <code class="docutils literal notranslate"><span class="pre">Index.lua</span></code> file which will be triggered only, this file must include other files and do other operations as you wish.</p>
<p>Each Package must have an <code class="docutils literal notranslate"><span class="pre">Package.toml</span></code> file which is the Configuration File for this Package.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Shared packages are always loaded before.</p>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">NanosWorldServer</span><span class="p">.</span><span class="nx">exe</span>
<span class="nx">Packages</span><span class="o">/</span>
<span class="o">|</span>   <span class="nx">My_Package_01</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Server</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="nx">Index</span><span class="p">.</span><span class="nx">lua</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">*</span><span class="p">.</span><span class="nx">lua</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Client</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">*</span><span class="p">.</span><span class="nx">lua</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Shared</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="o">|</span>   <span class="o">*</span><span class="p">.</span><span class="nx">lua</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Package</span><span class="p">.</span><span class="nx">toml</span>
<span class="o">|</span>   <span class="nx">My_Package_02</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="p">...</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">PersistentData</span><span class="p">.</span><span class="nx">toml</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Package</span><span class="p">.</span><span class="nx">toml</span>
<span class="nx">Assets</span><span class="o">/</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is possible to store data in disk with the method <code class="docutils literal notranslate"><span class="pre">Package:SetPersistentData(key,</span> <span class="pre">value)</span></code>, it is possible to store any kind of value (except functions and userdatas) and retrieve with <code class="docutils literal notranslate"><span class="pre">Package:GetPersistentData</span></code>.</p>
</div>
</div>
<div class="section" id="package-configuration-file">
<h3>Package Configuration File<a class="headerlink" href="#package-configuration-file" title="Permalink to this headline">¶</a></h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>nanos world Config files use <strong>TOML</strong> (Tom’s Obvious, Minimal Language), please refer to <a class="reference external" href="https://github.com/toml-lang/toml">https://github.com/toml-lang/toml</a> for more information and syntax.</p>
</div>
<p>The Package Configuration file <code class="docutils literal notranslate"><span class="pre">Package.toml</span></code> is generated automatically when a package is initialized for the first time. This file will always be overriden with the proper pattern after it’s loaded.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Package Configurations</span>
<span class="k">[package]</span>
    <span class="c1"># Package Name</span>
    <span class="n">name</span> <span class="o">=</span>                <span class="s">&quot;My Awesome Package&quot;</span>
    <span class="c1"># Package Type: &quot;executable&quot; (normal package) | &quot;library&quot; (doesn&#39;t run - useful for code library)</span>
    <span class="n">type</span> <span class="o">=</span>                <span class="s">&quot;executable&quot;</span>
    <span class="c1"># Whether to force the Custom Map Script to do NOT load</span>
    <span class="n">force_no_map_script</span> <span class="o">=</span> <span class="kc">false</span>
    <span class="c1"># Auto Destroy all entities spawned by this package when it unloads</span>
    <span class="n">auto_cleanup</span> <span class="o">=</span>        <span class="kc">true</span>
    <span class="c1"># Asset Packs Requirements (Assets folder names to be loaded)</span>
    <span class="n">assets_requirements</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&quot;MyPack_01&quot;</span><span class="p">,</span>
        <span class="s">&quot;GodWeaponPack&quot;</span>
    <span class="p">]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Package Type marked as <code class="docutils literal notranslate"><span class="pre">library</span></code> won’t be loaded as a Package, this is useful if you are creating modular scripting which can be Required/Included in other Packages but isn’t supposed to have an own Package loaded for it.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If any loaded Package has <code class="docutils literal notranslate"><span class="pre">force_no_map_script</span></code> enabled, it will force the server to do not run any (if existing) <strong>Map Custom Script</strong>. Usually these scripts have map specific spawn props/weapons points and pertinent stuff. This options is useful when your Package is going to handle all spawning stuff and doesn’t want any external thing spawning or happening on the map/game.</p>
</div>
</div>
</div>
<div class="section" id="assets">
<h2>Assets<a class="headerlink" href="#assets" title="Permalink to this headline">¶</a></h2>
<p>Assets can be included in a folder called <code class="docutils literal notranslate"><span class="pre">Assets/</span></code> in the root server folder. All files in there will be sent to the clients and will be able to be referenced in your scripting code (client side).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Please refer to <a class="reference internal" href="AssetsQuickStart.html#assetsquickstart"><span class="std std-ref">Assets Quick Start</span></a> for more information and which kind of asset is allowed.</p>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">NanosWorldServer</span><span class="p">.</span><span class="nx">exe</span>
<span class="nx">Packages</span><span class="o">/</span>
<span class="nx">Assets</span><span class="o">/</span>
<span class="o">|</span>   <span class="nx">My_Asset_Pack_01</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">My_Asset_01</span><span class="p">.</span><span class="nx">uasset</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">My_Asset_02</span><span class="p">.</span><span class="nx">uasset</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">My_Big_Map</span><span class="p">.</span><span class="nx">umap</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="p">...</span>
<span class="o">|</span>   <span class="nx">Assets</span><span class="p">.</span><span class="nx">toml</span>
<span class="o">|</span>   <span class="nx">Awesome_Weapons</span><span class="o">/</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="nx">Big_Fucking_Gun</span><span class="p">.</span><span class="nx">uasset</span>
<span class="o">|</span>   <span class="o">|</span>   <span class="p">...</span>
<span class="o">|</span>   <span class="nx">Assets</span><span class="p">.</span><span class="nx">toml</span>
</pre></div>
</div>
</div>
<div class="section" id="common-console-messages-warnings-erros-and-it-s-meanings">
<h2>Common Console Messages/Warnings/Erros and it’s meanings<a class="headerlink" href="#common-console-messages-warnings-erros-and-it-s-meanings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="server-tick-too-extreme-high-verify-the-server-performance-server-got-stuck-for-xms">
<h3>Server Tick too/extreme high! Verify the server performance! Server got stuck for Xms.<a class="headerlink" href="#server-tick-too-extreme-high-verify-the-server-performance-server-got-stuck-for-xms" title="Permalink to this headline">¶</a></h3>
<p>Means the server got <strong>stuck</strong> (laggy) for X milliseconds. The warning (<em>yellow</em>) is not something to worry about, but too much Errors (<em>red</em>) could mean your server infraestructure is not that good or your scripting code is not that optimized. The server <em>tries¹</em> runs at 33 Ticks per seconds (or the amount configured at Config.toml). The server runs in an infinite loop which in a frequency of <strong>1/33</strong> milliseconds. Inside this loop, all server operations are executed: receiving/sending network packages, executing functions (received from network), triggering scripting events, executing all Scripting’s Ticks events, calculating Trigger overlaps, and so on. So if any of these operations take more more than <strong>1/33</strong> milliseconds to run, this warning will appear up.</p>
<p>I said <em>tries¹</em> because on windows that is not that precise than on linux due internal c++ implementations.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="WebUIQuickStart.html" class="btn btn-neutral float-right" title="WebUI Quick Start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ScriptingQuickStart.html" class="btn btn-neutral float-left" title="Scripting Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, nanos GbR.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>